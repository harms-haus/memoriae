# Memoriae Environment Variables
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# =============================================================================
# Server Configuration
# =============================================================================

# Port the backend server will listen on
PORT=3123

# =============================================================================
# Database Configuration
# =============================================================================

# Option 1: Use DATABASE_URL (recommended for production)
# Format: postgresql://username:password@host:port/database
# Example for AWS RDS:
# DATABASE_URL=postgresql://postgres:your_password@memoriae-db.xxxxx.us-east-1.rds.amazonaws.com:5432/postgres
# Example for local development:
DATABASE_URL=postgresql://memoriae:memoriae@localhost:5432/memoriae

# Option 2: Use individual database connection variables (alternative to DATABASE_URL)
# If DATABASE_URL is not set, these will be used instead
DB_HOST=localhost
DB_PORT=5432
DB_NAME=memoriae
DB_USER=memoriae
DB_PASSWORD=memoriae

# =============================================================================
# Authentication & Security
# =============================================================================

# JWT secret key for signing authentication tokens
# IMPORTANT: Generate a strong random secret for production
# You can generate one using: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT token expiration time (default: 7d)
# Format: number + unit (e.g., "7d", "24h", "3600s")
JWT_EXPIRES_IN=7d

# =============================================================================
# OAuth Configuration - Google
# =============================================================================

# Google OAuth Client ID
# Get this from: https://console.cloud.google.com/apis/credentials
OAUTH_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# Google OAuth Client Secret
OAUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret

# Google OAuth redirect URI (default: http://localhost:3123/api/auth/google/callback)
# Update this if your backend is hosted at a different URL
OAUTH_GOOGLE_REDIRECT_URI=http://localhost:3123/api/auth/google/callback

# =============================================================================
# OAuth Configuration - GitHub
# =============================================================================

# GitHub OAuth Client ID
# Get this from: https://github.com/settings/developers
OAUTH_GITHUB_CLIENT_ID=your-github-client-id

# GitHub OAuth Client Secret
OAUTH_GITHUB_CLIENT_SECRET=your-github-client-secret

# GitHub OAuth redirect URI (default: http://localhost:3123/api/auth/github/callback)
# Update this if your backend is hosted at a different URL
OAUTH_GITHUB_REDIRECT_URI=http://localhost:3123/api/auth/github/callback

# =============================================================================
# Frontend Configuration
# =============================================================================

# Frontend URL for CORS and OAuth redirects
# Update this in production to your actual frontend URL
FRONTEND_URL=http://localhost:5173

# Comma-separated list of allowed origins for CORS (optional)
# If not set, defaults to FRONTEND_URL
# FRONTEND_ALLOWED_ORIGINS=http://localhost:5173,https://memoriae.example.com

# Frontend API URL (for Vite - must have VITE_ prefix)
# Default: http://localhost:3123/api (for local development)
# Update this in production to your actual backend URL
# Example for production: https://api.memoriae.example.com/api
VITE_API_URL=http://localhost:3123/api

# =============================================================================
# Redis Configuration
# =============================================================================

# Redis connection URL for BullMQ job queue
# Format: redis://[password@]host:port[/database]
# Example for AWS ElastiCache (no password):
# REDIS_URL=redis://memoriae-redis.xxxxx.cache.amazonaws.com:6379
# Example for Redis Cloud:
# REDIS_URL=redis://default:password@redis-xxxxx.redis.cloud:12345
# Example for local development:
REDIS_URL=redis://localhost:6379

# =============================================================================
# AI/OpenRouter Configuration
# =============================================================================

# OpenRouter API URL (default: https://openrouter.ai/api/v1)
# Users provide their own API keys in the application settings
OPENROUTER_API_URL=https://openrouter.ai/api/v1

# OpenRouter API Key (optional - users can set their own in app settings)
# OPENROUTER_API_KEY=your-openrouter-api-key

# =============================================================================
# Queue Configuration
# =============================================================================

# Interval in milliseconds to check for pressure points that need processing
# Default: 30000 (30 seconds)
QUEUE_CHECK_INTERVAL=30000

# =============================================================================
# Idea Musing Configuration
# =============================================================================

# Time to schedule idea musings (UTC, 24-hour format)
# Default: 02:00 (2 AM UTC)
IDEA_MUSING_SCHEDULE_TIME=02:00

# Maximum number of musings to generate per day
# Default: 10
IDEA_MUSING_MAX_PER_DAY=10

# Number of days to exclude seeds that were recently shown
# Default: 2
IDEA_MUSING_EXCLUDE_DAYS=2

# =============================================================================
# Environment
# =============================================================================

# Node environment: development, production, or test
# This affects database connection pool settings and other environment-specific behavior
NODE_ENV=development
